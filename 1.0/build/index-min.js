/*! detect-zoom - v1.0 - 2013-05-28 4:42:32 PM
* Copyright (c) 2013 yiminghe; Licensed  */
KISSY.add("gallery/detect-zoom/1.0/index",function(a){function b(){return window.devicePixelRatio||1}function c(a,b,c,d,e,f){function g(c,d,e){var i=(c+d)/2;if(0>=e||f>d-c)return i;var j="("+a+":"+i+b+")";return h(j).matches?g(i,d,e-1):g(c,i,e-1)}var h,i,j,k;window.matchMedia?h=window.matchMedia:(i=document.getElementsByTagName("head")[0],j=document.createElement("style"),i.appendChild(j),k=document.createElement("div"),k.className="mediaQueryBinarySearch",k.style.display="none",document.body.appendChild(k),h=function(a){j.sheet.insertRule("@media "+a+"{.mediaQueryBinarySearch "+"{text-decoration: underline} }",0);var b="underline"==getComputedStyle(k,null).textDecoration;return j.sheet.deleteRule(0),{matches:b}});var l=g(c,d,e);return k&&(i.removeChild(j),document.body.removeChild(k)),l}var d=a.UA;return screen.deviceXDPI?function(){var a=Math.round(100*(screen.deviceXDPI/screen.logicalXDPI))/100;return{zoom:a,devicePxPerCssPx:a*b()}}:d.webkit&&d.mobile?function(){var a=90==Math.abs(window.orientation)?screen.height:screen.width,c=a/window.innerWidth;return{zoom:c,devicePxPerCssPx:c*b()}}:d.webkit||d.opera?function(){var a=window.outerWidth/window.innerWidth;return{zoom:a,devicePxPerCssPx:a*b()}}:d.firefox&&window.devicePixelRatio?function(){return{zoom:b(),devicePxPerCssPx:b()}}:d.firefox?function(){var a=c("min--moz-device-pixel-ratio","",0,10,20,1e-4);return a=Math.round(100*a)/100,{zoom:a,devicePxPerCssPx:a}}:null});